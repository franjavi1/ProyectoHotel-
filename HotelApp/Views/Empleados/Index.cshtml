@model IEnumerable<HotelApp.Models.Empleado>

@{
    ViewData["Title"] = "Listado de Empleados";
}

<!-- Carga de estilos de DataTables (manteniéndolos) -->
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css" />
<link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.5.0/css/responsive.bootstrap5.min.css" />

<!--
    ESTILOS PERSONALIZADOS
    Usando tus colores de marca: #5a6b7a (Gris/Azul) y #ff7b00 (Naranja)
-->
<style>
    /* Encabezado */
    .header-title {
        color: #5a6b7a;
        font-weight: 700;
        margin-bottom: 0;
    }

    /* Contenedor de la Tabla (Card) */
    .table-card {
        border-radius: 12px;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1);
        padding: 20px;
        background-color: #ffffff;
    }

    /* Botón Principal (Nuevo) */
    .btn-custom-primary {
        background-color: #5a6b7a !important; /* Gris/Azul */
        border: none;
        color: #fff;
        transition: all 0.3s ease;
        font-weight: 600;
        border-radius: 8px;
        padding: 8px 20px;
    }

        .btn-custom-primary:hover {
            background-color: #ff7b00 !important; /* Naranja en hover */
            transform: translateY(-1px);
        }

    /* Botones de Acción de Fila */
    .btn-action-edit {
        color: #ff7b00; /* Naranja */
        border: 1px solid #ff7b00;
        border-radius: 6px;
    }

        .btn-action-edit:hover {
            background-color: #ff7b00;
            color: white;
        }

    .btn-action-details {
        color: #5a6b7a; /* Gris/Azul */
        border: 1px solid #5a6b7a;
        border-radius: 6px;
    }

        .btn-action-details:hover {
            background-color: #5a6b7a;
            color: white;
        }

    /* Estilos de la tabla */
    .dataTables_wrapper .table th {
        background-color: #f8f9fa; /* Fondo ligero para encabezados */
        color: #5a6b7a;
        font-weight: 600;
        border-bottom: 2px solid #ff7b00; /* Línea naranja bajo el encabezado */
    }

    .dataTables_wrapper .table {
        margin-bottom: 0; /* Eliminar margen extra */
    }
</style>

<!--
    🌟 SECCIÓN 1: ENCABEZADO Y BOTÓN DE CREACIÓN
-->
<div class="d-flex align-items-center mb-4 mt-3">
    <h2 class="header-title m-0 d-flex align-items-center">
        <i class="fa-solid fa-users me-3 fs-3"></i>
        Listado de Empleados
    </h2>
</div>

<hr class="mb-4" style="border-top: 2px solid #ff7b00; width: 100px; margin-left: 0;">

<div class="mb-4 d-flex justify-content-end">
    <a asp-action="Create" class="btn btn-custom-primary">
        <i class="fa-solid fa-plus me-2"></i> Nuevo Empleado
    </a>
</div>

<!--
    🌟 SECCIÓN 2: TABLA DENTRO DE LA TARJETA (CARD)
-->
<div class="table-card">
    <table id="empleadosTable" class="table table-striped table-hover responsive nowrap" style="width:100%">
        <thead>
            <tr>
                <th>@Html.DisplayNameFor(model => model.Nombre)</th>
                <th>@Html.DisplayNameFor(model => model.Email)</th>
                <th>@Html.DisplayNameFor(model => model.Rol)</th>
                <th data-priority="1">Acciones</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>@Html.DisplayFor(modelItem => item.Nombre)</td>
                    <td>@Html.DisplayFor(modelItem => item.Email)</td>
                    <td>
                        <!-- Mostrando Rol con un badge para mejorar la visibilidad -->
                        <span class="badge bg-secondary">@Html.DisplayFor(modelItem => item.Rol)</span>
                    </td>
                    <td class="text-nowrap">
                        <a asp-action="Edit" asp-route-id="@item.Id" class="btn btn-sm btn-action-edit me-1" title="Editar">
                            <i class="fa-solid fa-pen-to-square"></i>
                        </a>
                        <a asp-action="Details" asp-route-id="@item.Id" class="btn btn-sm btn-action-details me-1" title="Ver Detalles">
                            <i class="fa-solid fa-eye"></i>
                        </a>
                        <a asp-action="Delete" asp-route-id="@item.Id" class="btn btn-sm btn-outline-danger" title="Eliminar">
                            <i class="fa-solid fa-trash-can"></i>
                        </a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

@section Scripts {
    <!-- Scripts de JQuery y DataTables (se mantienen) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>

    <script src="https://cdn.datatables.net/responsive/2.5.0/js/dataTables.responsive.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.5.0/js/responsive.bootstrap5.min.js"></script>

    <script>
        (function () {
            $(document).ready(function () {
                $('#empleadosTable').DataTable({
                    responsive: true,
                    language: {
                        url: 'https://cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json'
                    },
                    order: [[0, 'asc']], // ordenar por Nombre
                    columnDefs: [
                        {
                            targets: -1, // acciones
                            orderable: false,
                            searchable: false,
                            className: 'text-nowrap'
                        }
                    ]
                });
            });
        })();
    </script>
}